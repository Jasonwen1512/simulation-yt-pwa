<!DOCTYPE html>
<html lang="zh-Hant">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <!-- PWA å¿…å‚™è¨­å®š for iOS -->
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="default" />
        <meta name="theme-color" content="#0f0f0f" />
        <meta name="apple-mobile-web-app-title" content="YouTube æ¨¡æ“¬ App" />

        <!-- åœ–ç¤ºèˆ‡æ¨™é¡Œ -->
        <link
            rel="apple-touch-icon"
            href="https://www.google.com/s2/favicons?sz=180&domain=YouTube.com"
        />
        <link rel="manifest" href="manifest.json" />
        <title>YouTube</title>

        <style>
            html,
            body {
                margin: 0;
                padding: 0;
                background-color: #0f0f0f;
                color: #f1f1f1;
                font-family: -apple-system, BlinkMacSystemFont, sans-serif;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
            }
        </style>

        <script>
            // å»¶é²ä¸€é»è·³è½‰é¿å… Safari é–ƒç•«é¢
            window.onload = () => {
                setTimeout(() => {
                    location.replace("https://m.youtube.com/");
                }, 200);
            };
        </script>
    </head>
    <body>
        <div id="message">æ­£åœ¨æª¢æŸ¥å•Ÿå‹•æ–¹å¼â€¦</div>
        <button id="gotoBtn" style="display: none">ğŸ‘‰ æ‰‹å‹•é–‹å•Ÿ YouTube</button>
        <script>
            const isIos = () => {
                return /iphone|ipad|ipod/.test(
                    navigator.userAgent.toLowerCase()
                );
            };
            const isInStandaloneMode = () => {
                return (
                    "standalone" in window.navigator &&
                    window.navigator.standalone
                );
            };

            window.onload = () => {
                const msg = document.getElementById("message");
                const btn = document.getElementById("gotoBtn");
                if (isIos() && isInStandaloneMode()) {
                    // åœ¨ PWA æ¨¡å¼ä¸‹é¡¯ç¤ºæç¤º + æŒ‰éˆ•ï¼ˆæ”¹ç‚ºæ‰‹å‹•è·³è½‰ï¼‰
                    // msg.innerText = "é»æ“Šä¸‹æ–¹æŒ‰éˆ•é–‹å•Ÿ YouTube";
                    // btn.style.display = "inline-block";

                    // âœ… è‹¥è¦æ”¹å›è‡ªå‹•è·³è½‰ï¼Œå¯è§£é™¤ä¸‹æ–¹è¨»è§£
                    setTimeout(() => {
                        location.replace("https://www.youtube.com");
                    }, 300);
                } else {
                    // å…¶ä»–ç€è¦½å™¨æˆ– Safari ä¸€èˆ¬ç€è¦½å™¨
                    msg.innerHTML = `
                        <p>è«‹é»é¸ Safari ä¸‹æ–¹çš„ <strong>åˆ†äº«æŒ‰éˆ•</strong>ï¼ˆâ¬†ï¸ï¼‰</p>
                        <p>ç„¶å¾Œé¸æ“‡ã€Œ<strong>åŠ å…¥ä¸»ç•«é¢</strong>ã€</p>
                        <p>ä¸‹æ¬¡å¾ä¸»ç•«é¢é–‹å•Ÿï¼Œå°±æœƒåƒ App ä¸€æ¨£é€²å…¥ YouTube</p>
                    `;
                }
                // æ‰‹å‹•è·³è½‰æŒ‰éˆ•
                btn.addEventListener("click", () => {
                    window.location.href = "https://www.youtube.com";
                });
            };
        </script>
    </body>
</html>
